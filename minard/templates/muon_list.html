{% extends "layout.html" %}
{% block title %}Muon List{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block body %}
  {{ super() }}

<div class="container">

  <h2 align="left">Information For the User</h2>
    <table class="table table-hover">
  </table>

</div>


<div class="page-header">
  <h1 align="center">Muon List</h1>
</div>

<div class="container">
  List runs over the last
  <select id="limit" onchange="get_limit(this.value, 0);">
    <option selected value="{{limit}}">{{limit}}</option>
    {% for n in [10, 25, 50, 100, 500] %}
      {% if n != limit %}
        <option value="{{n}}">{{n}}</option>
      {% endif %}
    {% endfor %}
  </select> runs, or select run:

  <input style="margin-bottom: 30px; width: 80px;" type="text" id="run" value={{selected_run}} onKeyDown="if(event.keyCode==13) get_limit(0, this.value);"></input>

  <table class="table table-hover">
    <thead>
      <tr> 
        <th> Run Number </th>
        <th> GTIDs </th>
      </tr>
    {% if runs %}
        {% for run in runs %}
            <tr>
                <th> {{run}} </th>
                <th> {{gtids[run]}} </th>
            </tr>
        {% endfor %}
    {% else %}
        <th> No data found </th>
    {% endif %}
    </thead>
  </table>
</div>
{% endblock %}
{% block script %}
  <script>
    function get_limit(limit, run){
      params = {};
      params["limit"] = limit;
      params["run"] = run;
      window.location.replace($SCRIPT_ROOT + "/muon_list?" + $.param(params));
    }
  </script>
{% endblock %}
