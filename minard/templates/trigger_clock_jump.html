{% extends "layout.html" %}
{% block title %}Trigger Clock Jumps{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block body %}
  {{ super() }}

<div class="page-header">
  <h1 align="center">Trigger Clock Jumps</h1>
</div>

<div class="container">
  <select id="limit" onchange="get_limit(this.value);">
    <option selected value="{{limit}}">{{limit}}</option>
    {% for n in [10, 25, 50, 100, 500] %}
      {% if n != limit %}
        <option value="{{n}}">{{n}}</option>
      {% endif %}
    {% endfor %}
  </select>
  <table class="table table-hover">
    <thead>
      <tr> 
        <th> Run Number </th>
        <th> # of 10MHz Clock Jumps </th>
        <th> # of 50MHz Clock Jumps </th>
      </tr>
    {% for run in all_runs %}
      {% if runs[run] %}
        {% if (njump10[run] + njump50[run]) > 20 %}
          <tr class="danger">
        {% elif (njump10[run] + njump50[run]) > 0 %}
          <tr class="warning">
        {% else %}
          <tr class="info">
        {% endif %}
          <th> <a href="{{ url_for("trigger_clock_jump_run",run_number=run)}}">{{run}}</a></th>
          <th> {{njump10[run]}} </th>
          <th> {{njump50[run]}} </th>
        </tr>
      {% else %}
        <tr class="info">
          <th> {{run}} </th>
          <th> 0 </th>
          <th> 0 </th>
        </tr>
      {% endif %}
    {% endfor %}
    </thead>
  </table>
</div>
{% endblock %}
{% block script %}
  <script>
    function get_limit(limit){
      params = {};
      params["limit"] = limit;
      window.location.replace($SCRIPT_ROOT + "/trigger_clock_jump?" + $.param(params));
    }
  </script>
{% endblock %}
